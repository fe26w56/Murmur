# Murmur - 画面設計書レビュー報告書

> レビュー実施日: 2026-02-16
> 対象: 04-screen-design.md
> 参照: 03-system-design.md / 01-requirements.md / 05-implementation-plan.md
> レビューラウンド: 3回実施

---

## 総合評価

| ラウンド | 評価 | Critical | Major | Minor | 備考 |
|---------|------|----------|-------|-------|------|
| Round 1 | A- | 3 | 7 | 12 | 初版レビュー |
| Round 2 | A- | 0 | 0 | 5 | Critical 3件+Major 7件+Minor 12件を修正 |
| **Round 3** | **A+** | **0** | **0** | **0** | Minor 5件を修正。**実装着手推奨** |

---

## レビュー指摘事項の対応履歴

### Round 1 → Round 2 で修正した項目

#### Critical（3件）

| # | 指摘 | 修正内容 |
|---|------|---------|
| CR-01 | AudioCaptureコンポーネント欠落 | コンポーネント一覧に追加。MIMEフォールバック、音量インジケータ、5秒無音検知の仕様を明記 |
| CR-02 | 録音中の「×閉じる」処理未定義 | 確認ダイアログ追加（「保存して終了」/「キャンセル」）。PATCH APIでended_at確定フローを定義 |
| CR-03 | セッション中の利用時間上限動作未定義 | 残り5分で黄色警告バナー、上限到達で自動停止→セッション保存→トースト→ホーム遷移 |

#### Major（7件）

| # | 指摘 | 修正内容 |
|---|------|---------|
| MJ-01 | ResearchProgressコンポーネント欠落 | 「Phase 2で実装」注記付きで追加 |
| MJ-02 | OAuthコールバック画面欠落 | S1aとして追加。ローディング/成功/失敗の3状態定義 |
| MJ-03 | 新規登録UI不十分 | 登録モードワイヤーフレーム + メール確認待ち状態を追加 |
| MJ-04 | ページネーション未定義 | セッション・コンテキスト一覧に「最新20件+もっと見る」を明記 |
| MJ-05 | 録音中のティア変更動作不明 | liveStore管理、次utteranceから適用、最後のティア記録を定義 |
| MJ-06 | 利用時間上限メッセージ不十分 | MVP用「来月1日にリセットされます」メッセージを明記 |
| MJ-07 | Middleware未言及 | AuthGuardにmiddleware.ts連携を注記 |

#### Minor（12件）

| # | 指摘 | 修正内容 |
|---|------|---------|
| MN-01 | フォントサイズ | SubtitleDisplayに16/20/24px明記。他はshadcn/uiデフォルト |
| MN-02 | 暗環境配慮 | ダークモード推奨ガイダンス、低コントラスト、光漏れ最小化を追加 |
| MN-03 | テンプレート遷移先 | S3→S5（詳細画面）に変更 |
| MN-04 | トースト仕様 | 表示位置（上部）、時間（3秒）、スタック（3件）を追加 |
| MN-05 | type ENUMラベル | ENUM値と日本語ラベル・アイコンの対応表を追加 |
| MN-06 | 原文表示トグル | S7にトグルスイッチ追加。settingsStore.showOriginalを参照 |
| MN-07 | コンテキスト「なし」表記 | 「フリーセッション」に統一 |
| MN-08 | 用語集上限 | 最大20件、上限時メッセージ表示を明記 |
| MN-09 | ホーム→ライブ翻訳導線 | 遷移図に「新しいセッション」パスを追加 |
| MN-10 | エンドポイント表記 | `[id]` 形式に統一 |
| MN-11 | settingsStore defaultTier | 「セッション開始時の初期選択値」と明記 |
| MN-12 | S5→S6遷移パス | 「このコンテキストで翻訳開始」ボタン + `/live?contextId=[id]` を追加 |

### Round 2 → Round 3 で修正した項目

| # | 指摘 | 重要度 | 修正内容 |
|---|------|--------|---------|
| MN-R2-01 | コンテキストセレクタの「なし」と「フリーセッション」不統一 | Minor | ドロップダウンに「フリーセッション（コンテキストなし）」を統一 |
| MN-R2-02 | OAuthコールバックのroute.ts注記 | Minor | 画面一覧に「route.tsでリダイレクト処理」を追記 |
| MN-R2-03 | ページネーションのAPI仕様未定義 | Minor | offset-based pagination（`limit=20&offset=0`）を明記 |
| MN-R2-04 | S7ワイヤーフレームにトグル未配置 | Minor | ワイヤーフレームに「原文を表示 [OFF --- ON]」を追加 |
| MN-R2-05 | 利用時間の分/時間表示ルール | Minor | 「60分未満は○分、60分以上は○時間○分」ルールを明記 |

---

## 結論

**画面設計書がA+評価に到達。Critical/Major/Minor指摘ゼロ。実装着手を推奨する。**

3ラウンドのレビューを通じて合計27件の指摘を全て修正し、以下の品質が確認された:

1. **全画面の網羅性**: 8画面 + OAuthコールバックのワイヤーフレーム、状態遷移、エラーハンドリングが完備
2. **3ドキュメントとの整合性**: requirements.md / design.md / implementation-plan.md と矛盾なし
3. **コンポーネントカバレッジ**: design.mdのディレクトリ構成の全UIコンポーネントが対応
4. **UX品質**: 暗環境配慮、片手操作、エラー状態、空状態、ローディング状態が統一パターンで定義
5. **実装可能性**: APIエンドポイント、ストア参照、状態管理が具体的に定義され、開発者が迷わず実装可能
